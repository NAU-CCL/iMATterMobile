{"ast":null,"code":"var _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { map } from 'rxjs/operators';\nlet UserSubmissionsService = class UserSubmissionsService {\n  constructor(afs) {\n    this.afs = afs;\n    this.reportCollection = this.afs.collection('reports', ref => ref.orderBy('timestamp', 'desc'));\n    this.reports = this.reportCollection.snapshotChanges().pipe(map(actions => {\n      return actions.map(a => {\n        const data = a.payload.doc.data();\n        data.id = a.payload.doc.id;\n        return data;\n      });\n    }));\n    this.locationSuggestionsCollection = this.afs.collection('locationSuggestions', ref => ref.orderBy('timestamp', 'desc'));\n    this.locationSuggestions = this.locationSuggestionsCollection.snapshotChanges().pipe(map(actions => {\n      return actions.map(a => {\n        const data = a.payload.doc.data();\n        data.id = a.payload.doc.id;\n        return data;\n      });\n    }));\n  } // Cloud function is invoked when a new document is added to the report collection.\n\n\n  addReport(report) {\n    return this.reportCollection.add(report);\n  }\n\n  addLocationSuggestion(locationSuggestion) {\n    return this.locationSuggestionsCollection.add(locationSuggestion);\n  }\n\n};\nUserSubmissionsService = __decorate([Injectable({\n  providedIn: 'root'\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof AngularFirestore !== \"undefined\" && AngularFirestore) === \"function\" ? _a : Object])], UserSubmissionsService);\nexport { UserSubmissionsService };","map":null,"metadata":{},"sourceType":"module"}