<ion-content padding>

  <form *ngIf="enterCodeForm" [formGroup]="enterCodeForm" (ngSubmit)="onSubmit()" >
    <ion-item>
      <ion-label position="stacked">Code</ion-label>
      <ion-input
			  formControlName="recoveryCode"
              type="recoveryCode"
              type="text"
              placeholder="Enter your code"

      >
      </ion-input>
	  </ion-item>
	  <ion-item>
	  <ion-input
			  formControlName="recoveryPassword"
              type="password"
              placeholder="Enter the new password"
              [class.invalid]="!enterCodeForm.controls['recoveryPassword'].valid && enterCodeForm.controls['recoveryPassword'].touched"
      >
      </ion-input>
    </ion-item>
    <ion-item>
      <ion-input
          formControlName="confirmPassword"
                type="password"
                placeholder="Retype this password"
                [class.invalid]="!enterCodeForm.controls['confirmPassword'].valid && enterCodeForm.controls['confirmPassword'].touched"
        >
        </ion-input>
      </ion-item>
   <ion-item class="error-message" *ngIf="!enterCodeForm.controls['recoveryPassword'].valid && enterCodeForm.controls['recoveryPassword'].touched">
      <ion-label>Please enter an 8 character password</ion-label>
    </ion-item>
    <ion-item class="error-message" *ngIf="enterCodeForm.value.newPassword !== enterCodeForm.value.confirmPassword">
      <ion-label>Ensure that the password match</ion-label>
    </ion-item>

    <ion-button class="fill-button"
            expand="block"
			(click)="validateUser(enterCodeForm)"
			[disabled]="!enterCodeForm.valid"
    >
      Enter
    </ion-button>
  </form>
</ion-content>
